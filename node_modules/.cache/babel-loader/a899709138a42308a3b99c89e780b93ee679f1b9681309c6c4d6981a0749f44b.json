{"ast":null,"code":"const INIT_STATE = {\n  carts: []\n};\nexport const cartReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INIT_STATE;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case \"ADD_TO_CART\":\n      const {\n        userId,\n        book\n      } = action.payload;\n      const existingCart = state.carts[userId] || [];\n      return {\n        ...state,\n        carts: {\n          ...state.carts,\n          [userId]: [...existingCart, {\n            ...book,\n            quantity: 1\n          }]\n        }\n      };\n    case \"UPDATE_CART_QUANTITY\":\n      const itemIndex = state.carts.findIndex(item => item.isbn === action.payload.isbn);\n      if (itemIndex !== -1) {\n        state.carts[itemIndex].quantity = action.payload.quantity;\n        return {\n          ...state\n        };\n      }\n      return state;\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["INIT_STATE","carts","cartReducer","state","action","type","userId","book","payload","existingCart","quantity","itemIndex","findIndex","item","isbn"],"sources":["C:/Users/Mariiia/Desktop/react-ecomm-main/src/redux/reducer/cartReducer.js"],"sourcesContent":["const INIT_STATE = {\n    carts: []\n}\nexport const cartReducer = (state = INIT_STATE, action) => {\n    switch (action.type) {\n        case \"ADD_TO_CART\":\n            const { userId, book } = action.payload;\n            const existingCart = state.carts[userId] || [];\n            return {\n              ...state,\n              carts: {\n                ...state.carts,\n                [userId]: [...existingCart, { ...book, quantity: 1 }],\n              },\n            };\n      \n        case \"UPDATE_CART_QUANTITY\":\n            const itemIndex = state.carts.findIndex((item) => item.isbn === action.payload.isbn);\n            if (itemIndex !== -1) {\n                state.carts[itemIndex].quantity = action.payload.quantity\n                return {\n                    ...state\n                }\n            }\n            return state;\n       \n       \n    \n        default:\n            return state;\n    }\n}\n\n\n\n\n\n  \n  \n\n\n"],"mappings":"AAAA,MAAMA,UAAU,GAAG;EACfC,KAAK,EAAE;AACX,CAAC;AACD,OAAO,MAAMC,WAAW,GAAG,YAAgC;EAAA,IAA/BC,KAAK,uEAAGH,UAAU;EAAA,IAAEI,MAAM;EAClD,QAAQA,MAAM,CAACC,IAAI;IACf,KAAK,aAAa;MACd,MAAM;QAAEC,MAAM;QAAEC;MAAK,CAAC,GAAGH,MAAM,CAACI,OAAO;MACvC,MAAMC,YAAY,GAAGN,KAAK,CAACF,KAAK,CAACK,MAAM,CAAC,IAAI,EAAE;MAC9C,OAAO;QACL,GAAGH,KAAK;QACRF,KAAK,EAAE;UACL,GAAGE,KAAK,CAACF,KAAK;UACd,CAACK,MAAM,GAAG,CAAC,GAAGG,YAAY,EAAE;YAAE,GAAGF,IAAI;YAAEG,QAAQ,EAAE;UAAE,CAAC;QACtD;MACF,CAAC;IAEL,KAAK,sBAAsB;MACvB,MAAMC,SAAS,GAAGR,KAAK,CAACF,KAAK,CAACW,SAAS,CAAEC,IAAI,IAAKA,IAAI,CAACC,IAAI,KAAKV,MAAM,CAACI,OAAO,CAACM,IAAI,CAAC;MACpF,IAAIH,SAAS,KAAK,CAAC,CAAC,EAAE;QAClBR,KAAK,CAACF,KAAK,CAACU,SAAS,CAAC,CAACD,QAAQ,GAAGN,MAAM,CAACI,OAAO,CAACE,QAAQ;QACzD,OAAO;UACH,GAAGP;QACP,CAAC;MACL;MACA,OAAOA,KAAK;IAIhB;MACI,OAAOA,KAAK;EAAC;AAEzB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}