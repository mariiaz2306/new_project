{"ast":null,"code":"// import React, { useState } from 'react';\n// import { useDispatch, useSelector } from 'react-redux';\n// // import {\n// //   searchBooksRequest,\n// //   searchBooksSuccess,\n// //   searchBooksFailure,\n// // } from './redux/actions';\n// import axios from 'axios';\n// import { searchBooksFailure, searchBooksRequest, searchBooksSuccess,  } from '../redux/actions/action';\n\n// const BookSearch = () => {\n//   const dispatch = useDispatch();\n//   const { searchResults, loading, error } = useSelector((state) => state.search);\n//   const [searchTerm, setSearchTerm] = useState('');\n\n//   const handleSearch = async ( title) => {\n//     const url = `http://127.0.0.1:8080/search?query=${title}`;\n//     console.log('Search URL:', url);\n//     dispatch(searchBooksRequest());\n\n//     try {\n//       const response = await axios.get(url);\n//       const books = response.data.map((bookString) => JSON.parse(bookString));\n//       dispatch(searchBooksSuccess(books));\n//     } catch (error) {\n//       dispatch(searchBooksFailure(error.message));\n//     }\n//   };\n\n//   const handleChange = (e) => {\n//     setSearchTerm(e.target.value);\n//   };\n\n//   const handleSubmit = (e) => {\n//     e.preventDefault();\n//     handleSearch(searchTerm);\n//   };\n\n//   return (\n//     <div>\n//       <form onSubmit={handleSubmit}>\n//         <input\n//           type=\"text\"\n//           value={searchTerm}\n//           onChange={handleChange}\n//           placeholder=\"Поиск по названию книги...\"\n//         />\n//         <button type=\"submit\">Искать</button>\n//       </form>\n\n//       {loading && <p>Loading...</p>}\n//       {error && <p>Ошибка: {error}</p>}\n\n//       <div className=\"book-container\">\n//         {searchResults.map((book) => (\n//           <div key={book.isbn} className=\"book\">\n//             <img\n//               src={`http://127.0.0.1:8080/images/${book.image_name}`}\n//               alt={book.title}\n//             />\n//             <div>\n//               <h3>{book.title}</h3>\n//               <p><strong>Автор:</strong> {book.author}</p>\n//               <p><strong>Категория:</strong> {book.category}</p>\n//               <p><strong>Страницы:</strong> {book.pages}</p>\n//               <p><strong>ISBN:</strong> {book.isbn}</p>\n//             </div>\n//           </div>\n//         ))}\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default BookSearch;","map":{"version":3,"names":[],"sources":["C:/Users/Mariiia/Desktop/react-ecomm-main/src/components/BookSearch.jsx"],"sourcesContent":["// import React, { useState } from 'react';\r\n// import { useDispatch, useSelector } from 'react-redux';\r\n// // import {\r\n// //   searchBooksRequest,\r\n// //   searchBooksSuccess,\r\n// //   searchBooksFailure,\r\n// // } from './redux/actions';\r\n// import axios from 'axios';\r\n// import { searchBooksFailure, searchBooksRequest, searchBooksSuccess,  } from '../redux/actions/action';\r\n\r\n\r\n\r\n// const BookSearch = () => {\r\n//   const dispatch = useDispatch();\r\n//   const { searchResults, loading, error } = useSelector((state) => state.search);\r\n//   const [searchTerm, setSearchTerm] = useState('');\r\n\r\n//   const handleSearch = async ( title) => {\r\n//     const url = `http://127.0.0.1:8080/search?query=${title}`;\r\n//     console.log('Search URL:', url);\r\n//     dispatch(searchBooksRequest());\r\n   \r\n  \r\n//     try {\r\n//       const response = await axios.get(url);\r\n//       const books = response.data.map((bookString) => JSON.parse(bookString));\r\n//       dispatch(searchBooksSuccess(books));\r\n//     } catch (error) {\r\n//       dispatch(searchBooksFailure(error.message));\r\n//     }\r\n//   };\r\n  \r\n//   const handleChange = (e) => {\r\n//     setSearchTerm(e.target.value);\r\n//   };\r\n\r\n//   const handleSubmit = (e) => {\r\n//     e.preventDefault();\r\n//     handleSearch(searchTerm);\r\n//   };\r\n\r\n//   return (\r\n//     <div>\r\n//       <form onSubmit={handleSubmit}>\r\n//         <input\r\n//           type=\"text\"\r\n//           value={searchTerm}\r\n//           onChange={handleChange}\r\n//           placeholder=\"Поиск по названию книги...\"\r\n//         />\r\n//         <button type=\"submit\">Искать</button>\r\n//       </form>\r\n\r\n//       {loading && <p>Loading...</p>}\r\n//       {error && <p>Ошибка: {error}</p>}\r\n\r\n//       <div className=\"book-container\">\r\n//         {searchResults.map((book) => (\r\n//           <div key={book.isbn} className=\"book\">\r\n//             <img\r\n//               src={`http://127.0.0.1:8080/images/${book.image_name}`}\r\n//               alt={book.title}\r\n//             />\r\n//             <div>\r\n//               <h3>{book.title}</h3>\r\n//               <p><strong>Автор:</strong> {book.author}</p>\r\n//               <p><strong>Категория:</strong> {book.category}</p>\r\n//               <p><strong>Страницы:</strong> {book.pages}</p>\r\n//               <p><strong>ISBN:</strong> {book.isbn}</p>\r\n//             </div>\r\n//           </div>\r\n//         ))}\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default BookSearch;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}