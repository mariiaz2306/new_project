{"ast":null,"code":"// const INIT_STATE = {\n//     carts: []\n// }\n// export const cartReducer = (state = INIT_STATE, action) => {\n//     switch (action.type) {\n//         case \"ADD_TO_CART\":\n//             return {\n//                 ...state, carts: [...state.carts, action.payload]\n//             }\n//     case \"REMOVE_TO_CART\":\n//         const data=state.carts.filter((item)=>item.isbn !== action.payload)\n//         console.log(data);\n//         return{\n//             ...state,\n//             carts:data\n//         }\n\nimport { ADD_TO_CART } from \"../actions/action\";\n\n//         default:\n//             return state;\n//     }\n// }\n\nconst INITIAL_STATE = {\n  carts: {} // Объект для хранения корзин пользователей\n};\n\nconst cartReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INITIAL_STATE;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  const {\n    userId,\n    bookId,\n    quantity\n  } = action.payload;\n  switch (action.type) {\n    case ADD_TO_CART:\n      const existingCart = state.carts[userId] || [];\n      const updatedCartAdd = [...existingCart, {\n        bookId,\n        quantity: 1\n      } // Начальное количество при добавлении\n      ];\n\n      return {\n        ...state,\n        carts: {\n          ...state.carts,\n          [userId]: updatedCartAdd\n        }\n      };\n    case REMOVE_FROM_CA:\n      const updatedCartRemove = state.carts[userId].filter(item => item.bookId !== bookId);\n      return {\n        ...state,\n        carts: {\n          ...state.carts,\n          [userId]: updatedCartRemove\n        }\n      };\n    case UPDATE_CART_QUANTITY:\n      const updatedItems = state.carts[userId].map(item => item.bookId === bookId ? {\n        ...item,\n        quantity\n      } : item);\n      return {\n        ...state,\n        carts: {\n          ...state.carts,\n          [userId]: updatedItems\n        }\n      };\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["ADD_TO_CART","INITIAL_STATE","carts","cartReducer","state","action","userId","bookId","quantity","payload","type","existingCart","updatedCartAdd","REMOVE_FROM_CA","updatedCartRemove","filter","item","UPDATE_CART_QUANTITY","updatedItems","map"],"sources":["C:/Users/Mariiia/Desktop/react-ecomm-main/src/redux/reducer/cartReducer.js"],"sourcesContent":["// const INIT_STATE = {\n//     carts: []\n// }\n// export const cartReducer = (state = INIT_STATE, action) => {\n//     switch (action.type) {\n//         case \"ADD_TO_CART\":\n//             return {\n//                 ...state, carts: [...state.carts, action.payload]\n//             }\n//     case \"REMOVE_TO_CART\":\n//         const data=state.carts.filter((item)=>item.isbn !== action.payload)\n//         console.log(data);\n//         return{\n//             ...state,\n//             carts:data\n//         }\n\nimport { ADD_TO_CART } from \"../actions/action\";\n\n    \n//         default:\n//             return state;\n//     }\n// }\n\n\nconst INITIAL_STATE = {\n    carts: {}, // Объект для хранения корзин пользователей\n  };\n  \n\n  const cartReducer = (state = INITIAL_STATE, action) => {\n    const { userId, bookId, quantity } = action.payload;\n  \n    switch (action.type) {\n      case ADD_TO_CART:\n        const existingCart = state.carts[userId] || [];\n        const updatedCartAdd = [\n          ...existingCart,\n          { bookId, quantity: 1 }, // Начальное количество при добавлении\n        ];\n        return {\n          ...state,\n          carts: {\n            ...state.carts,\n            [userId]: updatedCartAdd,\n          },\n        };\n  \n      case REMOVE_FROM_CA:\n        const updatedCartRemove = state.carts[userId].filter(\n          (item) => item.bookId !== bookId\n        );\n        return {\n          ...state,\n          carts: {\n            ...state.carts,\n            [userId]: updatedCartRemove,\n          },\n        };\n  \n      case UPDATE_CART_QUANTITY:\n        const updatedItems = state.carts[userId].map((item) =>\n          item.bookId === bookId ? { ...item, quantity } : item\n        );\n        return {\n          ...state,\n          carts: {\n            ...state.carts,\n            [userId]: updatedItems,\n          },\n        };\n  \n      default:\n        return state;\n    }\n  };\n  \n\n\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAASA,WAAW,QAAQ,mBAAmB;;AAG/C;AACA;AACA;AACA;;AAGA,MAAMC,aAAa,GAAG;EAClBC,KAAK,EAAE,CAAC,CAAC,CAAE;AACb,CAAC;;AAGD,MAAMC,WAAW,GAAG,YAAmC;EAAA,IAAlCC,KAAK,uEAAGH,aAAa;EAAA,IAAEI,MAAM;EAChD,MAAM;IAAEC,MAAM;IAAEC,MAAM;IAAEC;EAAS,CAAC,GAAGH,MAAM,CAACI,OAAO;EAEnD,QAAQJ,MAAM,CAACK,IAAI;IACjB,KAAKV,WAAW;MACd,MAAMW,YAAY,GAAGP,KAAK,CAACF,KAAK,CAACI,MAAM,CAAC,IAAI,EAAE;MAC9C,MAAMM,cAAc,GAAG,CACrB,GAAGD,YAAY,EACf;QAAEJ,MAAM;QAAEC,QAAQ,EAAE;MAAE,CAAC,CAAE;MAAA,CAC1B;;MACD,OAAO;QACL,GAAGJ,KAAK;QACRF,KAAK,EAAE;UACL,GAAGE,KAAK,CAACF,KAAK;UACd,CAACI,MAAM,GAAGM;QACZ;MACF,CAAC;IAEH,KAAKC,cAAc;MACjB,MAAMC,iBAAiB,GAAGV,KAAK,CAACF,KAAK,CAACI,MAAM,CAAC,CAACS,MAAM,CACjDC,IAAI,IAAKA,IAAI,CAACT,MAAM,KAAKA,MAAM,CACjC;MACD,OAAO;QACL,GAAGH,KAAK;QACRF,KAAK,EAAE;UACL,GAAGE,KAAK,CAACF,KAAK;UACd,CAACI,MAAM,GAAGQ;QACZ;MACF,CAAC;IAEH,KAAKG,oBAAoB;MACvB,MAAMC,YAAY,GAAGd,KAAK,CAACF,KAAK,CAACI,MAAM,CAAC,CAACa,GAAG,CAAEH,IAAI,IAChDA,IAAI,CAACT,MAAM,KAAKA,MAAM,GAAG;QAAE,GAAGS,IAAI;QAAER;MAAS,CAAC,GAAGQ,IAAI,CACtD;MACD,OAAO;QACL,GAAGZ,KAAK;QACRF,KAAK,EAAE;UACL,GAAGE,KAAK,CAACF,KAAK;UACd,CAACI,MAAM,GAAGY;QACZ;MACF,CAAC;IAEH;MACE,OAAOd,KAAK;EAAC;AAEnB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}